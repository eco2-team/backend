# SonarCloud Configuration
# Docs: https://docs.sonarcloud.io/advanced-setup/analysis-parameters/
#
# Setup:
#   1. Go to https://sonarcloud.io
#   2. Import GitHub repository
#   3. Add SONAR_TOKEN to GitHub Secrets
#   4. CI will automatically analyze on PR/push

# Project identification
sonar.projectKey=eco2-team_backend
sonar.organization=eco2-team
sonar.projectName=backend

# Source settings
sonar.sources=domains
sonar.tests=domains
sonar.test.inclusions=**/tests/**,**/test_*.py,**/*_test.py
sonar.exclusions=\
  **/tests/**,\
  **/test_*.py,\
  **/*_test.py,\
  **/conftest.py,\
  **/*_pb2.py,\
  **/*_pb2_grpc.py,\
  **/proto/**,\
  worktrees/**,\
  .venv/**

# Python settings
sonar.python.version=3.11
sonar.python.coverage.reportPaths=coverage.xml
sonar.python.xunit.reportPath=test-results.xml

# Quality Gate
sonar.qualitygate.wait=true

# Encoding
sonar.sourceEncoding=UTF-8

# Duplication
sonar.cpd.python.minimumTokens=50
sonar.cpd.python.minimumLines=10

# Coverage exclusions (테스트/생성 파일만 제외)
sonar.coverage.exclusions=\
  **/tests/**,\
  **/proto/**,\
  **/*_pb2.py,\
  **/*_pb2_grpc.py
