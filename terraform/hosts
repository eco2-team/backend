[all:vars]
ansible_connection=ssh
ansible_user=ubuntu
ansible_ssh_private_key_file=~/.ssh/sesacthon.pem
ansible_ssh_common_args=-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null
ansible_python_interpreter=/usr/bin/python3

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Master Node (Control Plane)
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[masters]
k8s-master ansible_host=13.124.53.173 private_ip=10.0.1.129 instance_type=t3.large

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# API Nodes (Phase 1&2: 5 nodes)
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[api_nodes]
k8s-api-auth ansible_host=3.36.67.201 private_ip=10.0.1.132 domain=auth instance_type=t3.micro phase=1
k8s-api-my ansible_host=43.203.129.198 private_ip=10.0.2.120 domain=my instance_type=t3.micro phase=1
k8s-api-scan ansible_host=15.164.98.233 private_ip=10.0.3.96 domain=scan instance_type=t3.small phase=2
k8s-api-character ansible_host=13.125.223.79 private_ip=10.0.1.218 domain=character instance_type=t3.micro phase=2
k8s-api-location ansible_host=43.203.115.35 private_ip=10.0.2.133 domain=location instance_type=t3.micro phase=2

# Phase 3: Extended APIs (주석 처리)
# k8s-api-image ansible_host=TBD private_ip=TBD domain=image instance_type=t3.micro phase=3
# k8s-api-chat ansible_host=TBD private_ip=TBD domain=chat instance_type=t3.small phase=3

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Worker Nodes (Phase 4: 주석 처리)
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[workers]
# k8s-worker-storage ansible_host=TBD private_ip=TBD workload=worker-storage worker_type=io-bound instance_type=t3.small phase=4
# k8s-worker-ai ansible_host=TBD private_ip=TBD workload=worker-ai worker_type=network-bound instance_type=t3.small phase=4

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Infrastructure Nodes
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# PostgreSQL (Phase 1)
[postgresql]
k8s-postgresql ansible_host=3.36.68.128 private_ip=10.0.1.20 workload=database instance_type=t3.medium phase=1

# Redis (Phase 1)
[redis]
k8s-redis ansible_host=43.201.43.205 private_ip=10.0.2.63 workload=cache instance_type=t3.small phase=1

# RabbitMQ (Phase 4: 주석 처리)
[rabbitmq]
# k8s-rabbitmq ansible_host=TBD private_ip=TBD workload=message-queue instance_type=t3.small phase=4

# Monitoring (Phase 4: 주석 처리)
[monitoring]
# k8s-monitoring ansible_host=TBD private_ip=TBD workload=monitoring instance_type=t3.medium phase=4

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Group Definitions
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[k8s_cluster:children]
masters
api_nodes
workers
postgresql
redis
rabbitmq
monitoring
