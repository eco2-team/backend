---
apiVersion: v1
kind: Namespace
metadata:
  name: auth
  labels:
    istio-injection: enabled
    app.kubernetes.io/part-of: ecoeco-backend
    tier: business-logic
    role: api
    domain: auth
---
apiVersion: v1
kind: Namespace
metadata:
  name: my
  labels:
    istio-injection: enabled
    app.kubernetes.io/part-of: ecoeco-backend
    tier: business-logic
    role: api
    domain: my
---
apiVersion: v1
kind: Namespace
metadata:
  name: users
  labels:
    istio-injection: enabled
    app.kubernetes.io/part-of: ecoeco-backend
    tier: business-logic
    role: api
    domain: users
---
apiVersion: v1
kind: Namespace
metadata:
  name: scan
  labels:
    istio-injection: enabled
    app.kubernetes.io/part-of: ecoeco-backend
    tier: business-logic
    role: api
    domain: scan
---
apiVersion: v1
kind: Namespace
metadata:
  name: character
  labels:
    istio-injection: enabled
    app.kubernetes.io/part-of: ecoeco-backend
    tier: business-logic
    role: api
    domain: character
---
apiVersion: v1
kind: Namespace
metadata:
  name: location
  labels:
    istio-injection: enabled
    app.kubernetes.io/part-of: ecoeco-backend
    tier: business-logic
    role: api
    domain: location
---
apiVersion: v1
kind: Namespace
metadata:
  name: image
  labels:
    istio-injection: enabled
    app.kubernetes.io/part-of: ecoeco-backend
    tier: business-logic
    role: api
    domain: image
---
apiVersion: v1
kind: Namespace
metadata:
  name: rabbitmq
  labels:
    istio-injection: enabled
    app.kubernetes.io/part-of: ecoeco-backend
    tier: integration
    role: messaging
    domain: rabbitmq
---
apiVersion: v1
kind: Namespace
metadata:
  name: chat
  labels:
    istio-injection: enabled
    app.kubernetes.io/part-of: ecoeco-backend
    tier: business-logic
    role: api
    domain: chat
---
apiVersion: v1
kind: Namespace
metadata:
  name: info
  labels:
    istio-injection: enabled
    app.kubernetes.io/part-of: ecoeco-backend
    tier: business-logic
    role: api
    domain: info
---
apiVersion: v1
kind: Namespace
metadata:
  name: postgres
  labels:
    istio-injection: enabled
    app.kubernetes.io/part-of: ecoeco-backend
    tier: data
    role: database
    data-type: postgres
---
apiVersion: v1
kind: Namespace
metadata:
  name: redis
  labels:
    istio-injection: enabled
    app.kubernetes.io/part-of: ecoeco-backend
    tier: data
    role: cache
    data-type: redis
---
apiVersion: v1
kind: Namespace
metadata:
  name: prometheus
  labels:
    istio-injection: enabled
    app.kubernetes.io/part-of: ecoeco-backend
    tier: observability
    role: metrics
---
apiVersion: v1
kind: Namespace
metadata:
  name: grafana
  labels:
    istio-injection: enabled
    app.kubernetes.io/part-of: ecoeco-backend
    tier: observability
    role: dashboards
---
apiVersion: v1
kind: Namespace
metadata:
  name: platform-system
  labels:
    app.kubernetes.io/part-of: ecoeco-platform
    tier: infrastructure
    role: platform-core
---
apiVersion: v1
kind: Namespace
metadata:
  name: data-system
  labels:
    app.kubernetes.io/part-of: ecoeco-platform
    tier: infrastructure
    role: operators
---
apiVersion: v1
kind: Namespace
metadata:
  name: messaging-system
  labels:
    app.kubernetes.io/part-of: ecoeco-platform
    tier: infrastructure
    role: operators
---
apiVersion: v1
kind: Namespace
metadata:
  name: logging
  labels:
    istio-injection: disabled  # EFK는 Istio sidecar 불필요
    app.kubernetes.io/part-of: ecoeco-backend
    tier: observability
    role: logging
---
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# SSE Consumer Namespace
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 목적: SSE Gateway 서비스 격리
# - scan-api와 분리된 스케일링 정책 (연결 수 기반)
# - Redis Streams 중앙 Consumer + Memory Fan-out
# 참조: docs/blogs/async/31-sse-fanout-optimization.md
apiVersion: v1
kind: Namespace
metadata:
  name: sse-consumer
  labels:
    istio-injection: enabled
    app.kubernetes.io/part-of: ecoeco-backend
    tier: integration
    role: sse-gateway
    domain: sse
