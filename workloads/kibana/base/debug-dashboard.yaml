# [Logs ECO2] Developer Debug Dashboard
# CNCF OpenTelemetry best practices - trace correlation
apiVersion: kibana.eck.github.com/v1alpha1
kind: Dashboard
metadata:
  name: logs-eco2-debug
  namespace: kibana
  labels:
    app.kubernetes.io/part-of: ecoeco-observability
    dashboard-type: developer
spec:
  targetInstance:
    name: eco2-kibana
  body: |
    {
      "attributes": {
        "title": "[Logs ECO2] Developer Debug",
        "description": "Developer debugging dashboard with error analysis and trace correlation following CNCF OpenTelemetry best practices",
        "timeRestore": true,
        "timeFrom": "now-6h",
        "timeTo": "now",
        "refreshInterval": {
          "pause": false,
          "value": 60000
        },
        "optionsJSON": "{\"useMargins\":true,\"syncColors\":true,\"syncCursor\":true,\"syncTooltips\":true,\"hidePanelTitles\":false}",
        "kibanaSavedObjectMeta": {
          "searchSourceJSON": "{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}"
        },
        "panelsJSON": "[{\"version\":\"8.8.0\",\"type\":\"visualization\",\"gridData\":{\"x\":0,\"y\":0,\"w\":12,\"h\":10,\"i\":\"nav\"},\"panelIndex\":\"nav\",\"embeddableConfig\":{\"enhancements\":{},\"savedVis\":{\"title\":\"Navigation Links\",\"type\":\"markdown\",\"params\":{\"fontSize\":12,\"openLinksInNewTab\":false,\"markdown\":\"### ðŸ”§ Developer Tools\\n\\n| Dashboard | Description |\\n|-----------|-------------|\\n| **[Overview](#/dashboard/logs-eco2-overview)** | Golden Signals |\\n| **[Debug](#/dashboard/logs-eco2-debug)** | This Dashboard |\\n| **[Business](#/dashboard/logs-eco2-business)** | Business Metrics |\\n\\n---\\n\\n**Quick Links:**\\n- [Discover](#/app/discover)\\n- Filter by trace.id\"}}}},{\"version\":\"8.8.0\",\"type\":\"lens\",\"gridData\":{\"x\":12,\"y\":0,\"w\":18,\"h\":10,\"i\":\"type\"},\"panelIndex\":\"type\",\"embeddableConfig\":{\"enhancements\":{},\"attributes\":{\"title\":\"Errors by Type\",\"visualizationType\":\"lnsPie\",\"state\":{\"datasourceStates\":{\"formBased\":{\"layers\":{\"layer1\":{\"columns\":{\"col1\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"labels.error_type\",\"operationType\":\"terms\",\"params\":{\"orderBy\":{\"columnId\":\"col2\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"size\":10,\"otherBucket\":true,\"missingBucket\":true},\"sourceField\":\"labels.error_type\"},\"col2\":{\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Count\",\"operationType\":\"count\",\"sourceField\":\"Records\"}},\"columnOrder\":[\"col1\",\"col2\"],\"incompleteColumns\":{}}}}},\"visualization\":{\"layers\":[{\"categoryDisplay\":\"default\",\"layerId\":\"layer1\",\"legendDisplay\":\"show\",\"numberDisplay\":\"percent\",\"primaryGroups\":[\"col1\"],\"metrics\":[\"col2\"]}],\"shape\":\"donut\"},\"query\":{\"language\":\"kuery\",\"query\":\"log.level: ERROR OR log.level: WARNING\"},\"filters\":[]},\"references\":[{\"id\":\"logs-eco2-app\",\"name\":\"indexpattern-datasource-layer-layer1\",\"type\":\"index-pattern\"}]}}},{\"version\":\"8.8.0\",\"type\":\"lens\",\"gridData\":{\"x\":30,\"y\":0,\"w\":18,\"h\":10,\"i\":\"service\"},\"panelIndex\":\"service\",\"embeddableConfig\":{\"enhancements\":{},\"attributes\":{\"title\":\"Errors by Service\",\"visualizationType\":\"lnsXY\",\"state\":{\"datasourceStates\":{\"formBased\":{\"layers\":{\"layer1\":{\"columns\":{\"col1\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"service.name\",\"operationType\":\"terms\",\"params\":{\"orderBy\":{\"columnId\":\"col2\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"size\":7},\"sourceField\":\"service.name\"},\"col2\":{\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Error Count\",\"operationType\":\"count\",\"sourceField\":\"Records\"}},\"columnOrder\":[\"col1\",\"col2\"],\"incompleteColumns\":{}}}}},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"layers\":[{\"accessors\":[\"col2\"],\"layerId\":\"layer1\",\"seriesType\":\"bar_horizontal\",\"xAccessor\":\"col1\"}],\"legend\":{\"isVisible\":false},\"preferredSeriesType\":\"bar_horizontal\"},\"query\":{\"language\":\"kuery\",\"query\":\"log.level: ERROR\"},\"filters\":[]},\"references\":[{\"id\":\"logs-eco2-app\",\"name\":\"indexpattern-datasource-layer-layer1\",\"type\":\"index-pattern\"}]}}},{\"version\":\"8.8.0\",\"type\":\"search\",\"gridData\":{\"x\":0,\"y\":10,\"w\":48,\"h\":12,\"i\":\"details\"},\"panelIndex\":\"details\",\"embeddableConfig\":{\"enhancements\":{},\"columns\":[\"@timestamp\",\"service.name\",\"log.level\",\"message\",\"labels.error_type\",\"trace.id\"],\"sort\":[[\"@timestamp\",\"desc\"]]},\"panelRefName\":\"search_details\"},{\"version\":\"8.8.0\",\"type\":\"search\",\"gridData\":{\"x\":0,\"y\":22,\"w\":48,\"h\":10,\"i\":\"trace\"},\"panelIndex\":\"trace\",\"embeddableConfig\":{\"enhancements\":{},\"columns\":[\"@timestamp\",\"service.name\",\"log.level\",\"message\"],\"sort\":[[\"@timestamp\",\"asc\"]],\"query\":{\"query\":\"trace.id: *\",\"language\":\"kuery\"}},\"panelRefName\":\"search_trace\"}]"
      },
      "references": [
        {"id": "logs-eco2-app", "name": "kibanaSavedObjectMeta.searchSourceJSON.index", "type": "index-pattern"},
        {"id": "logs-eco2-app", "name": "search_details", "type": "index-pattern"},
        {"id": "logs-eco2-app", "name": "search_trace", "type": "index-pattern"}
      ]
    }
