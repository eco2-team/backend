# [Logs ECO2] Business Metrics Dashboard
apiVersion: kibana.eck.github.com/v1alpha1
kind: Dashboard
metadata:
  name: logs-eco2-business
  namespace: kibana
  labels:
    app.kubernetes.io/part-of: ecoeco-observability
    dashboard-type: business
spec:
  targetInstance:
    name: eco2-kibana
  body: |
    {
      "attributes": {
        "title": "[Logs ECO2] Business Metrics",
        "description": "Business metrics dashboard for tracking user engagement, feature usage, and rewards",
        "timeRestore": true,
        "timeFrom": "now-7d",
        "timeTo": "now",
        "refreshInterval": {
          "pause": true,
          "value": 0
        },
        "optionsJSON": "{\"useMargins\":true,\"syncColors\":true,\"syncCursor\":true,\"syncTooltips\":true,\"hidePanelTitles\":false}",
        "kibanaSavedObjectMeta": {
          "searchSourceJSON": "{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}"
        },
        "panelsJSON": "[{\"version\":\"8.8.0\",\"type\":\"visualization\",\"gridData\":{\"x\":0,\"y\":0,\"w\":12,\"h\":12,\"i\":\"nav\"},\"panelIndex\":\"nav\",\"embeddableConfig\":{\"enhancements\":{},\"savedVis\":{\"title\":\"Navigation Links\",\"type\":\"markdown\",\"params\":{\"fontSize\":12,\"openLinksInNewTab\":false,\"markdown\":\"### ðŸ“ˆ Business Metrics\\n\\n| Dashboard | Description |\\n|-----------|-------------|\\n| **[Overview](#/dashboard/logs-eco2-overview)** | Service Health |\\n| **[Debug](#/dashboard/logs-eco2-debug)** | Developer Tools |\\n| **[Business](#/dashboard/logs-eco2-business)** | This Dashboard |\\n\\n---\\n\\n**Metrics:**\\n- User Engagement\\n- Feature Usage\\n- Reward System\"}}}},{\"version\":\"8.8.0\",\"type\":\"lens\",\"gridData\":{\"x\":12,\"y\":0,\"w\":12,\"h\":6,\"i\":\"total\"},\"panelIndex\":\"total\",\"embeddableConfig\":{\"enhancements\":{},\"attributes\":{\"title\":\"Total Logins\",\"visualizationType\":\"lnsLegacyMetric\",\"state\":{\"datasourceStates\":{\"formBased\":{\"layers\":{\"layer1\":{\"columns\":{\"col1\":{\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total Logins\",\"operationType\":\"count\",\"sourceField\":\"Records\"}},\"columnOrder\":[\"col1\"],\"incompleteColumns\":{}}}}},\"visualization\":{\"layerId\":\"layer1\",\"accessor\":\"col1\"},\"query\":{\"language\":\"kuery\",\"query\":\"message: \\\"OAuth login successful\\\"\"},\"filters\":[]},\"references\":[{\"id\":\"logs-eco2-app\",\"name\":\"indexpattern-datasource-layer-layer1\",\"type\":\"index-pattern\"}]}}},{\"version\":\"8.8.0\",\"type\":\"lens\",\"gridData\":{\"x\":24,\"y\":0,\"w\":12,\"h\":6,\"i\":\"rewards\"},\"panelIndex\":\"rewards\",\"embeddableConfig\":{\"enhancements\":{},\"attributes\":{\"title\":\"Rewards Granted\",\"visualizationType\":\"lnsLegacyMetric\",\"state\":{\"datasourceStates\":{\"formBased\":{\"layers\":{\"layer1\":{\"columns\":{\"col1\":{\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Rewards\",\"operationType\":\"count\",\"sourceField\":\"Records\"}},\"columnOrder\":[\"col1\"],\"incompleteColumns\":{}}}}},\"visualization\":{\"layerId\":\"layer1\",\"accessor\":\"col1\"},\"query\":{\"language\":\"kuery\",\"query\":\"message: \\\"Reward evaluation completed\\\" AND labels.received: true\"},\"filters\":[]},\"references\":[{\"id\":\"logs-eco2-app\",\"name\":\"indexpattern-datasource-layer-layer1\",\"type\":\"index-pattern\"}]}}},{\"version\":\"8.8.0\",\"type\":\"lens\",\"gridData\":{\"x\":36,\"y\":0,\"w\":12,\"h\":12,\"i\":\"char\"},\"panelIndex\":\"char\",\"embeddableConfig\":{\"enhancements\":{},\"attributes\":{\"title\":\"Rewards by Character\",\"visualizationType\":\"lnsPie\",\"state\":{\"datasourceStates\":{\"formBased\":{\"layers\":{\"layer1\":{\"columns\":{\"col1\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"labels.character_name\",\"operationType\":\"terms\",\"params\":{\"orderBy\":{\"columnId\":\"col2\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"size\":10,\"otherBucket\":true,\"missingBucket\":true},\"sourceField\":\"labels.character_name\"},\"col2\":{\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Count\",\"operationType\":\"count\",\"sourceField\":\"Records\"}},\"columnOrder\":[\"col1\",\"col2\"],\"incompleteColumns\":{}}}}},\"visualization\":{\"layers\":[{\"categoryDisplay\":\"default\",\"layerId\":\"layer1\",\"legendDisplay\":\"show\",\"numberDisplay\":\"percent\",\"primaryGroups\":[\"col1\"],\"metrics\":[\"col2\"]}],\"shape\":\"donut\"},\"query\":{\"language\":\"kuery\",\"query\":\"message: \\\"Reward evaluation completed\\\" AND labels.received: true\"},\"filters\":[]},\"references\":[{\"id\":\"logs-eco2-app\",\"name\":\"indexpattern-datasource-layer-layer1\",\"type\":\"index-pattern\"}]}}},{\"version\":\"8.8.0\",\"type\":\"lens\",\"gridData\":{\"x\":12,\"y\":6,\"w\":24,\"h\":6,\"i\":\"logins\"},\"panelIndex\":\"logins\",\"embeddableConfig\":{\"enhancements\":{},\"attributes\":{\"title\":\"Daily Logins by Provider\",\"visualizationType\":\"lnsXY\",\"state\":{\"datasourceStates\":{\"formBased\":{\"layers\":{\"layer1\":{\"columns\":{\"col1\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"interval\":\"1d\"},\"sourceField\":\"@timestamp\"},\"col2\":{\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Logins\",\"operationType\":\"count\",\"sourceField\":\"Records\"},\"col3\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"labels.provider\",\"operationType\":\"terms\",\"params\":{\"orderBy\":{\"columnId\":\"col2\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"size\":5},\"sourceField\":\"labels.provider\"}},\"columnOrder\":[\"col1\",\"col3\",\"col2\"],\"incompleteColumns\":{}}}}},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"layers\":[{\"accessors\":[\"col2\"],\"layerId\":\"layer1\",\"seriesType\":\"line\",\"splitAccessor\":\"col3\",\"xAccessor\":\"col1\"}],\"legend\":{\"isVisible\":true,\"position\":\"right\"},\"preferredSeriesType\":\"line\"},\"query\":{\"language\":\"kuery\",\"query\":\"message: \\\"OAuth login successful\\\"\"},\"filters\":[]},\"references\":[{\"id\":\"logs-eco2-app\",\"name\":\"indexpattern-datasource-layer-layer1\",\"type\":\"index-pattern\"}]}}},{\"version\":\"8.8.0\",\"type\":\"lens\",\"gridData\":{\"x\":0,\"y\":12,\"w\":48,\"h\":12,\"i\":\"usage\"},\"panelIndex\":\"usage\",\"embeddableConfig\":{\"enhancements\":{},\"attributes\":{\"title\":\"Feature Usage\",\"visualizationType\":\"lnsXY\",\"state\":{\"datasourceStates\":{\"formBased\":{\"layers\":{\"layer1\":{\"columns\":{\"col1\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"interval\":\"1d\"},\"sourceField\":\"@timestamp\"},\"col2\":{\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Count\",\"operationType\":\"count\",\"sourceField\":\"Records\"},\"col3\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Feature\",\"operationType\":\"filters\",\"params\":{\"filters\":[{\"input\":{\"query\":\"message: \\\"Chat message received\\\"\",\"language\":\"kuery\"},\"label\":\"Chat\"},{\"input\":{\"query\":\"message: \\\"Upload finalized\\\"\",\"language\":\"kuery\"},\"label\":\"Image Upload\"},{\"input\":{\"query\":\"message: \\\"Location search completed\\\"\",\"language\":\"kuery\"},\"label\":\"Location Search\"}]}}},\"columnOrder\":[\"col1\",\"col3\",\"col2\"],\"incompleteColumns\":{}}}}},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"layers\":[{\"accessors\":[\"col2\"],\"layerId\":\"layer1\",\"seriesType\":\"bar_stacked\",\"splitAccessor\":\"col3\",\"xAccessor\":\"col1\"}],\"legend\":{\"isVisible\":true,\"position\":\"right\"},\"preferredSeriesType\":\"bar_stacked\"},\"query\":{\"language\":\"kuery\",\"query\":\"message: \\\"Chat message received\\\" OR message: \\\"Upload finalized\\\" OR message: \\\"Location search completed\\\"\"},\"filters\":[]},\"references\":[{\"id\":\"logs-eco2-app\",\"name\":\"indexpattern-datasource-layer-layer1\",\"type\":\"index-pattern\"}]}}}]"
      },
      "references": [
        {"id": "logs-eco2-app", "name": "kibanaSavedObjectMeta.searchSourceJSON.index", "type": "index-pattern"}
      ]
    }
