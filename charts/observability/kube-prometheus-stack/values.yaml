kube-prometheus-stack:
  fullnameOverride: monitoring

  prometheus:
    prometheusSpec:
      retention: 7d
      retentionSize: 40GB
      resources:
        requests:
          cpu: 500m
          memory: 1Gi
        limits:
          cpu: 1000m
          memory: 1.5Gi
      storageSpec:
        volumeClaimTemplate:
          spec:
            accessModes:
              - ReadWriteOnce
            resources:
              requests:
                storage: 50Gi
      nodeSelector:
        workload: monitoring
      tolerations:
        - key: node-role.kubernetes.io/infrastructure
          operator: Equal
          value: "true"
          effect: NoSchedule

  grafana:
    adminPassword: admin123 # override via secret/values file in higher environments
    resources:
      requests:
        cpu: 500m
        memory: 512Mi
    nodeSelector:
      workload: monitoring
    tolerations:
      - key: node-role.kubernetes.io/infrastructure
        operator: Equal
        value: "true"
        effect: NoSchedule

  alertmanager:
    alertmanagerSpec:
      resources:
        requests:
          cpu: 250m
          memory: 256Mi
      nodeSelector:
        workload: monitoring
      tolerations:
        - key: node-role.kubernetes.io/infrastructure
          operator: Equal
          value: "true"
          effect: NoSchedule
