# ============================================================================
# ECO2 Base Image - 공통 의존성
# API와 Worker 모두 사용하는 패키지
# FastAPI, uvicorn은 제외 (API 전용)
# ============================================================================

# Core
pydantic==2.5.3
pydantic-settings==2.1.0

# Database
sqlalchemy==2.0.25
asyncpg==0.29.0
alembic==1.13.1

# Cache & Message Queue
redis==5.0.1
celery==5.4.0  # celery-batches 0.9 requires celery<5.5
gevent>=24.2.1  # Celery official gevent pool for high-concurrency I/O
celery-batches==0.9.0
kombu>=5.3.0

# HTTP Client
httpx==0.26.0
requests==2.31.0

# gRPC
grpcio==1.68.1
protobuf==5.29.2

# Auth
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4

# OpenTelemetry - Core
opentelemetry-distro==0.50b0
opentelemetry-exporter-otlp==1.29.0
opentelemetry-instrumentation-sqlalchemy==0.50b0
opentelemetry-instrumentation-httpx==0.50b0
opentelemetry-instrumentation-redis==0.50b0
opentelemetry-instrumentation-asyncpg==0.50b0
opentelemetry-instrumentation-grpc==0.50b0
opentelemetry-instrumentation-celery==0.50b0
opentelemetry-propagator-b3==1.29.0

# Monitoring
prometheus-client==0.20.0

# Circuit Breaker
aiobreaker==1.2.0

# Utils
email-validator==2.1.0
python-dotenv>=1.0.1
PyYAML>=6.0.2
